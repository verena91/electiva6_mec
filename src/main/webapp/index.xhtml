<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/main.xhtml">

	<ui:define name="body">

		<p:tabView>
			<p:tab title="PDF a CSV">

				<h3 style="text-align: center">Exportar datos de PDF a CSV</h3>
				<p:panel>
					<h:outputText
						value="Puede transformar el pdf de la planilla de funcionarios administrativos del MEC seleccionando el archivo y haciendo clic en Procesar Archivo. Al finalizar el procesamiento puede descargar el archivo haciendo clic en Descargar CSV." />
					<br />
					<br />
					<h:form enctype="multipart/form-data">
						<p:messages showDetail="true" />

						<table width="100%">
							<tr>
								<td align="center"><p:fileUpload value="#{pdfMB.file}"
										mode="simple" sizeLimit="1000000" allowTypes="/(\.|\/)(pdf)$/" />
									<p:commandButton value="Procesar Archivo" ajax="false"
										actionListener="#{pdfMB.upload}" /></td>
							</tr>
						</table>
					</h:form>
					<h:form prependId="aa">
						<table width="100%">
							<tr>
								<td align="center"><p:commandButton value="Descargar CSV"
										ajax="false" actionListener="#{pdfMB.descargar}"
										disabled="#{pdfMB.disable}">
										<p:fileDownload value="#{pdfMB.downFile}" />
									</p:commandButton></td>
							</tr>
						</table>
					</h:form>
				</p:panel>
			</p:tab>
			
			<p:tab title="Resumen de datos">

				<h3 style="text-align: center">MÃ¡ximos Pagos por Conceptos - Agosto</h3>
				<p:panel>
					<p:dataTable var="bean" value="#{datosMB.conceptos}">
						<p:column headerText="Concepto">
							<h:outputText value="#{bean.concepto}" />
						</p:column>
						<p:column style="text-align:right" headerText="Monto">
							<h:outputText value="#{bean.monto}">
								<f:convertNumber maxFractionDigits="1" />
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:panel>
				
				<h3 style="text-align: center">Funcionarios Mejores Pagados - Agosto</h3>
				<p:panel>
					<p:dataTable var="bean" value="#{chartView.mejoresPagados}">
						<p:column headerText="Nombre">
							<h:outputText value="#{bean[0]}" />
						</p:column>
						<p:column headerText="Cargo">
							<h:outputText value="#{bean[2]}" />
						</p:column>
						<p:column headerText="Dependencia">
							<h:outputText value="#{bean[3]}" />
						</p:column>
						<p:column style="text-align:right" headerText="Monto" width="95">
							<h:outputText value="#{bean[1]}">
								<f:convertNumber maxFractionDigits="1" />
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:panel>
			</p:tab>
			<p:tab title="Visualizaciones">

				<h3 style="text-align: center">Visualizaciones</h3>
				<p:panel>
				<table>
				<tr>
				<td><p:chart type="pie" model="#{chartView.pieModel2}" 	style="width:30%; height:500px;" />
				</td>
				<td><p:chart type="pie" model="#{chartView.pieModel3}" 	style="width:30%; height:500px;" />
				</td>
				<td><p:chart type="pie" model="#{chartView.pieModel4}" 	style="width:30%; height:500px;" />
				</td>
				</tr>
				</table>
				<p:chart type="line" model="#{chartView.lineModel2}" style="height:300px;"/>
				</p:panel>
			</p:tab>
		</p:tabView>

	</ui:define>

</ui:composition>